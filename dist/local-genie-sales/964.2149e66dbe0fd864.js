"use strict";(self.webpackChunklocal_genie_sales=self.webpackChunklocal_genie_sales||[]).push([[964],{8964:(k,g,s)=>{s.r(g),s.d(g,{ServiceProviderModule:()=>Q});var a=s(6895),u=s(6773),l=s(433);function x(o=2){return n=>{const r=n.value;return r?r&&""!=r&&r.length<o?{name:{message:"Name should contain atleast two character",value:n.value,example:"John A."}}:r&&""!=r&&!/^[a-zA-Z \.]*$/i.test(r)?{name:{message:"Please enter valid name address",value:n.value,example:"John A."}}:null:null}}var e=s(8256),_=s(501),p=s(563),f=s(688);function S(o,n){if(1&o&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&o){const r=n.$implicit,t=e.oxw(2);e.Tol(t.class),e.xp6(1),e.Oqu(r)}}function C(o,n){if(1&o&&(e.TgZ(0,"ul",1),e.YNc(1,S,2,3,"li",2),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.listOfErrors())}}let F=(()=>{class o{constructor(){this.class="r-c",this.field="Field",this.msg="",this.control=new l.NI}shouldShowErrors(){return this.control&&this.control.errors&&(this.control.dirty||this.control.touched)}listOfErrors(){return this.control&&this.control.errors&&Object.keys(this.control.errors).length?Object.keys(this.control.errors).map(r=>this.getMessage(r,this.control&&this.control.errors&&this.control.errors[r]?this.control.errors[r]:"",this.field,this.msg)):[]}getMessage(r,t,d,i=""){switch(r){case"required":return i||d+" can't be blank";case"minlength":return i||"The min number of characters is "+t.requiredLength;case"maxlength":return i||"The max allowed number of characters is "+t.requiredLength;case"pattern":return i||"The required pattern is: "+t.requiredPattern;case"email":case"name":case"error":case"number":case"mobile":case"year":case"fulldate":case"passowrd":return i||t.message+". Ex: "+t.example}return""}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["tn-form-error"]],inputs:{control:"control",class:"class",field:"field",msg:"msg"},decls:1,vars:1,consts:[["class","r-ul",4,"ngIf"],[1,"r-ul"],[3,"class",4,"ngFor","ngForOf"]],template:function(r,t){1&r&&e.YNc(0,C,2,1,"ul",0),2&r&&e.Q6J("ngIf",t.shouldShowErrors())},dependencies:[a.sg,a.O5],styles:[".r-ul[_ngcontent-%COMP%]{list-style:none;margin-block-start:0;padding-inline-start:0;font-size:80%;margin:0}.r-c[_ngcontent-%COMP%]{color:red}"]}),o})();function Z(o,n){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",null==r?null:r.categoryId),e.xp6(1),e.Oqu(null==r?null:r.categoryName)}}const c=function(o){return{"border-color":o}},A=function(o,n,r){return{color:o,"font-size":n,"border-color":r}},N=function(o){return{color:o}};function I(o,n){if(1&o&&(e.TgZ(0,"form",5)(1,"div",6)(2,"label",7),e._uU(3,"Name"),e.qZA(),e._UZ(4,"input",8)(5,"tn-form-error",9),e.qZA(),e.TgZ(6,"div",6)(7,"label",10),e._uU(8,"Category"),e.qZA(),e.TgZ(9,"select",11)(10,"option",12),e._uU(11,"Select Category"),e.qZA(),e.YNc(12,Z,2,2,"option",13),e.qZA(),e._UZ(13,"tn-form-error",9),e.qZA(),e.TgZ(14,"div",14)(15,"label",15),e._uU(16,"Mobile"),e.qZA(),e.TgZ(17,"span",16),e._uU(18,"+91"),e.qZA(),e._UZ(19,"input",17)(20,"tn-form-error",9),e.qZA(),e.TgZ(21,"div",6)(22,"label",18),e._uU(23,"Pincode"),e.qZA(),e._UZ(24,"input",19)(25,"tn-form-error",9),e.qZA(),e.TgZ(26,"div",6)(27,"label",20),e._uU(28,"Address"),e.qZA(),e._UZ(29,"textarea",21)(30,"tn-form-error",9),e.qZA(),e.TgZ(31,"div",6)(32,"div",22),e._UZ(33,"input",23),e.TgZ(34,"label",24),e._uU(35,"Do you deliver to door step?"),e.qZA()()()()),2&o){const r=e.oxw();let t,d,i,m,v,h,y;e.Q6J("formGroup",r.addForm),e.xp6(4),e.Q6J("ngStyle",e.VKq(19,c,null!=(t=r.addForm.get("serviceProviderName"))&&t.invalid&&null!=(t=r.addForm.get("serviceProviderName"))&&t.touched?"red":"rgba(0,0,0,0)")),e.xp6(1),e.Q6J("control",r.addForm.get("serviceProviderName"))("field","Name"),e.xp6(4),e.Q6J("ngStyle",e.kEZ(21,A,null!=(d=r.addForm.get("categoryId"))&&d.value?"":"var(--font-color)",null!=(d=r.addForm.get("categoryId"))&&d.value?"":"90%",null!=(d=r.addForm.get("categoryId"))&&d.invalid&&null!=(d=r.addForm.get("categoryId"))&&d.touched?"red":"rgba(0,0,0,0)")),e.xp6(3),e.Q6J("ngForOf",r.categories),e.xp6(1),e.Q6J("control",r.addForm.get("categoryId"))("field","Category"),e.xp6(6),e.Q6J("ngStyle",e.VKq(25,c,null!=(i=r.addForm.get("mobileNumber"))&&i.invalid&&null!=(i=r.addForm.get("mobileNumber"))&&i.touched?"red":"rgba(0,0,0,0)")),e.xp6(1),e.Q6J("control",r.addForm.get("mobileNumber"))("field","Mobile"),e.xp6(4),e.Q6J("ngStyle",e.VKq(27,c,null!=(m=r.addForm.get("pinCode"))&&m.invalid&&null!=(m=r.addForm.get("pinCode"))&&m.touched?"red":"rgba(0,0,0,0)")),e.xp6(1),e.Q6J("control",r.addForm.get("pinCode"))("field","Pincode"),e.xp6(4),e.Q6J("ngStyle",e.VKq(29,c,null!=(v=r.addForm.get("address"))&&v.invalid&&null!=(v=r.addForm.get("address"))&&v.touched?"red":"rgba(0,0,0,0)")),e.xp6(1),e.Q6J("control",r.addForm.get("address"))("field","Address"),e.xp6(2),e.Q6J("ngStyle",e.VKq(31,c,null!=(h=r.addForm.get("deliveryService"))&&h.value?"var(--secondary-color)":"")),e.xp6(2),e.Q6J("ngStyle",e.VKq(33,N,null!=(y=r.addForm.get("deliveryService"))&&y.value?"var(--secondary-color)":""))}}let T=(()=>{class o{constructor(r,t,d){this.categoriesService=r,this.serviceProviderService=t,this.router=d,this.categories=[]}ngOnInit(){this.addForm=new l.cw({serviceProviderName:new l.NI("",[l.kI.required,x(3)]),mobileNumber:new l.NI("",[l.kI.required,o=>{const n=o?.value;return n&&""!=n&&!/^[6-9][0-9]{9}$/.test(n)?{mobile:{message:"Please enter valid mobile",value:o?.value,example:"9876543210"}}:null}]),pinCode:new l.NI("",[l.kI.required,o=>{const n=o?.value;return n&&!/^[1-9][0-9]{5}$/i.test(n)?{pincode:{message:"Please enter valid pincode address",value:o?.value,example:"560037"}}:null}]),deliveryService:new l.NI(!0,[l.kI.required]),categoryId:new l.NI("",[l.kI.required]),address:new l.NI("",[l.kI.required,l.kI.minLength(6)])}),this.getCategories()}getCategories(){this.categoriesService.GetCategories().subscribe(r=>{console.log(r),this.categories=r})}addServiceProvider(){this.addForm.markAllAsTouched(),console.log(this.addForm),this.addForm.invalid||this.serviceProviderService.addServiceProvider({...this.addForm.value,mobileNumber:"91"+this.addForm.value.mobileNumber}).subscribe(t=>{this.router.navigate(["/items","add"],{queryParams:{businessCode:t.businessCode,serviceProviderId:t.serviceProviderId,categoryId:this.addForm.value.categoryId}})},console.log)}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(_.G),e.Y36(p.G),e.Y36(u.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["lgs-add-service-provider"]],decls:6,vars:3,consts:[[3,"title","showBack"],[1,"body"],["class","w-80 m-lr-auto",3,"formGroup",4,"ngIf"],[1,"w-80","m-lr-auto","m-t-30"],[1,"button-border","w-100",3,"click"],[1,"w-80","m-lr-auto",3,"formGroup"],[1,"m-t-30"],["for","serviceProviderName"],["type","text","formControlName","serviceProviderName","name","serviceProviderName","placeholder","Name",3,"ngStyle"],[3,"control","field"],["for","categoryId"],["name","categoryId","id","categoryId","formControlName","categoryId",3,"ngStyle"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"m-t-30","pos-relative"],["for","mobileNumber"],[1,"code"],["type","text","formControlName","mobileNumber","name","mobileNumber","placeholder","Mobile",2,"padding-left","45px",3,"ngStyle"],["for","pinCode"],["type","text","formControlName","pinCode","name","pinCode","placeholder","Pincode",3,"ngStyle"],["for","address"],["formControlName","address","name","address","rows","6","placeholder","Address",3,"ngStyle"],[1,"deliver",3,"ngStyle"],["type","checkbox","formControlName","deliveryService","name","deliveryService"],["for","deliveryService",2,"display","inline-block","margin-left","10px",3,"ngStyle"],[3,"value"]],template:function(r,t){1&r&&(e._UZ(0,"lgs-header",0),e.TgZ(1,"div",1),e.YNc(2,I,36,35,"form",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return t.addServiceProvider()}),e._uU(5,"Submit"),e.qZA()()()),2&r&&(e.Q6J("title","Add Service Provider")("showBack",!0),e.xp6(2),e.Q6J("ngIf",t.addForm))},dependencies:[a.sg,a.O5,a.PC,f.G,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,F],styles:[".code[_ngcontent-%COMP%]{position:absolute;top:45px;color:var(--font-color);left:10px;font-size:15px}label[_ngcontent-%COMP%]{display:block}.deliver[_ngcontent-%COMP%]{border:2px solid var(--background-color);padding:15px;border-radius:5px;font-size:80%}"]}),o})();const q=function(){return["/items","add"]};function E(o,n){if(1&o&&(e.TgZ(0,"a",5)(1,"div")(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p",6),e._uU(5),e.qZA()(),e._UZ(6,"i",7),e.qZA()),2&o){const r=n.$implicit,t=e.oxw();e.Q6J("routerLink",e.DdM(4,q))("queryParams",t.queryParams(r)),e.xp6(3),e.Oqu(r.serviceProviderName),e.xp6(2),e.Oqu(r.address)}}const J=function(){return["/service-provider","add"]},O=[{path:"list",component:(()=>{class o{constructor(r){this.serviceProviderService=r,this.serviceProviders=[]}ngOnInit(){this.getServiceProviders()}getServiceProviders(){this.serviceProviderService.getServiceProviders().subscribe(r=>{this.serviceProviders=r},r=>{console.log(r)})}getCategoryId(r=""){return"A B C D E F G H I J K L M N O P Q R T S U V W X Y Z".split(" ").indexOf(r.replace(/[0-9]{7}([A-Z])[A-Z]{2}/,"$1"))+1}queryParams(r){return{businessCode:r.businessCode,serviceProviderId:r.serviceProviderId,categoryId:this.getCategoryId(r.businessCode)}}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(p.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["lgs-list-service-provider"]],decls:5,vars:4,consts:[[3,"title"],[1,"body"],["class","card flex",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"fab-icon",3,"routerLink"],[1,"gg-math-plus"],[1,"card","flex",3,"routerLink","queryParams"],[1,"font-80"],[1,"gg-chevron-right"]],template:function(r,t){1&r&&(e._UZ(0,"lgs-header",0),e.TgZ(1,"div",1),e.YNc(2,E,7,5,"a",2),e.qZA(),e.TgZ(3,"a",3),e._UZ(4,"i",4),e.qZA()),2&r&&(e.Q6J("title","Service Providers"),e.xp6(2),e.Q6J("ngForOf",t.serviceProviders),e.xp6(1),e.Q6J("routerLink",e.DdM(3,J)))},dependencies:[a.sg,u.yS,f.G]}),o})()},{path:"add",component:T},{path:"",redirectTo:"list",pathMatch:"full"}];let M=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(O),u.Bz]}),o})();var w=s(5130);let U=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez]}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,M,w.O,l.UX,U]}),o})()}}]);